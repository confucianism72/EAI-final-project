# Track1 environment configuration
env_id: "Track1-v0"
task: "lift"
control_mode: "pd_joint_target_delta_pos"
camera_mode: "direct_pinhole"
obs_mode: "state"          # Use state for max speed (no rendering)
include_state: true
domain_randomization: false  # Disable for faster training (enable for sim2real)

# Simulation frequency (must match real robot for sim2real)
# Real robot data is 30 FPS
sim_freq: 120       # Physics simulation frequency (Hz)
control_freq: 30    # Control frequency (Hz) - MUST match real data (30 Hz)

# Max episode steps based on trajectory analysis
# Formula: base_steps * multiplier
# lift: 296 steps, stack: 384 steps, sort: 619 steps (at 30 Hz)
episode_steps:
  base: 296         # Base from trajectory analysis (lift max)
  multiplier: 1.2   # 20% buffer for RL exploration
  # Effective max_episode_steps = 296 * 1.2 = 355 (for lift)
  # Override for stack: base=384, for sort: base=619

# Camera extrinsic parameters (calibrated via distance transform optimization)
# This is the cam2world matrix (4x4)
camera:
  extrinsic:
    - [-0.999924, 0.012300, 0.000780, 0.319304]
    - [0.012322, 0.999045, 0.041926, 0.269718]
    - [-0.000264, 0.041932, -0.999120, 0.386226]
    - [0.0, 0.0, 0.0, 1.0]
  # For reference, original look_at params:
  # eye: [0.316, 0.260, 0.407]
  # target: [0.316, 0.260, 0.0]
  # up: [0, -1, 0]
  
  # Undistortion alpha for pinhole output modes (direct_pinhole, distort-twice)
  # 0.0 = crop all black borders (lose edge pixels)
  # 1.0 = keep all source pixels (has black borders, image shrinks)
  # 0.25 = optimal for full work area visibility
  undistort_alpha: 0.25
