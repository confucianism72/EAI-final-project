# Track 1: LeRobot SO-101 仿真环境完整参数 (V2.0 Clean)

本文档旨在提供构建 Track 1 仿真环境所需的精确物理参数、传感器数据及任务逻辑。所有数据均经过几何一致性校对。

## 1. 全局坐标系定义 (Global Coordinates)

为了便于在模拟器（如 Sapien/ManiSkill）中放置物体，建议采用以下坐标系：
* **原点 (0, 0, 0)**: 桌面平面的**左下角**顶点。
* **X 轴 (+X)**: 沿桌面宽度方向向右（范围 0 - 60.0 cm）。
* **Y 轴 (+Y)**: 沿桌面深度方向向前（范围 0 - 60.0 cm）。
* **Z 轴 (+Z)**: 垂直于桌面向上。

## 2. 核心锚点：前置相机 (Front Camera)

整个场景的视觉算法依赖于该相机，它是环境对齐的核心基准。

* **物理位置**:
    * X: 31.6 cm (距离左边缘)
    * Y: 26.0 cm (距离底边缘，推算值)
    * Z: 40.7 cm (距离桌面高度)
    * *注意：此位置对应相机的光心 (Optical Center)。*

* **内参矩阵 (Intrinsic Matrix)** (3x3):
    ```text
    [570.21740069,   0.0,          327.45975405]
    [0.0,            570.1797441,  260.83642155]
    [0.0,            0.0,          1.0         ]
    ```

* **畸变系数 (Distortion Coefficients)** (OpenCV 格式):
    ```text
    k1 = -0.735413911
    k2 =  0.949258417
    p1 =  0.000189059
    p2 = -0.002003513
    k3 = -0.864150312
    ```
    *建议：在仿真中必须模拟此畸变以获得 Sim-to-Real 的高保真度。*

## 3. 桌面区域布局 (Tabletop Layout)

### 3.1 任务网格 (Task Grids)
桌面主要操作区由黑色胶带划分的三个网格组成。
* **胶带宽度**: 1.80 cm
* **网格深度 (Height)**: 16.4 cm
* **网格中心点坐标** (基于相机对齐推算):

| 网格名称 | 宽度 (cm) | 中心点坐标 (X, Y) | 用途 |
| :--- | :--- | :--- | :--- |
| **左侧网格 (Left)** | 16.6 | (13.4, 26.0) | Sort任务绿色目标区 |
| **中间网格 (Mid)** | 15.6 | (31.6, 26.0) | 相机正下方 / Sort任务初始区 |
| **右侧网格 (Right)** | 16.6 | (49.7, 26.0) | Lift/Stack任务初始区 |

### 3.2 机械臂基座 (Robot Bases)
位于网格下方区域。由于文档测量误差（总和 55.2 cm vs 桌面 60.0 cm），建议优先保证以下**相对间距**：

* **左臂基座**:
    * 左边缘距离桌面左侧: 6.4 cm
    * 基座自身宽度: 11.0 cm
* **右臂基座**:
    * 与左臂基座的间距: 20.4 cm
    * 基座自身宽度: 11.0 cm

## 4. 任务物体规格 (Object Specifications)

请注意不同任务中立方体尺寸的变化。

### 4.1 任务立方体 (Target Cubes)

| 任务类型 | 红色立方体 (Red Cube) | 绿色立方体 (Green Cube) | 关键说明 |
| :--- | :--- | :--- | :--- |
| **Lift** | 3.0 x 3.0 x 3.0 cm | N/A | 仅需抓取红色 |
| **Stack** | 3.0 x 3.0 x 3.0 cm | **3.0 x 3.0 x 3.0 cm** | 红色叠在绿色上 |
| **Sort** | 3.0 x 3.0 x 3.0 cm | **1.0 x 1.0 x 1.0 cm** | **注意：此处绿块仅 1.0 cm** |

### 4.2 通用积木 (Letter Blocks)
* **尺寸**: 包含 3cm 立方体及 6cm 长方体等多种形状。
* **纹理**:
    * 正面: 大写字母 (A-Z)
    * 背面: 数字 (0-9) 及运算符号

## 5. 任务逻辑与判定标准 (Task Logic)

### Task 1: Lift (举升)
* **初始状态**: 红色立方体位于**右侧网格**内的随机位置。
* **目标**: 右臂抓取红色立方体。
* **成功判定**: 红色立方体离开桌面高度 >= 5.0 cm。

### Task 2: Stack (堆叠)
* **初始状态**: 红色与绿色立方体 (均为 3.0 cm) 均位于**右侧网格**。
* **目标**: 将红色立方体放置在绿色立方体顶部。
* **成功判定**: 堆叠稳定，且红色立方体位于绿色立方体上方。

### Task 3: Sort (分类)
* **初始状态**: 红色 (3.0 cm) 与绿色 (1.0 cm) 立方体混合位于**中间网格**。
* **目标**:
    * 绿色立方体 -> 搬运至 **左侧网格** (绿色目标区)。
    * 红色立方体 -> 搬运至 **右侧网格** (红色目标区)。
* **成功判定**: 两个立方体均完全位于各自的目标网格区域内。

## 6. 其他技术要求
* **腕部相机**: 左右臂各一，分辨率 640x480，FOV 50度。
* **控制接口**: 必须使用目标关节位置控制 (Target Joint Position Control)。